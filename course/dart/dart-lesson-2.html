<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Переменные и константы в Dart</title>
    <link rel="icon" type="image/png" href="images/ico.svg">
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" id="theme-style" href="../../lib/highlight/styles/github.css">
    <link rel="stylesheet" href="../../css/slideshow.css">
    <script src="../../lib/highlight/highlight.min.js"></script>
</head>
<body>

    <nav id="side-menu">
        <h3>Урок 2: Переменные и константы</h3>
        <ul>
            <!-- Ссылки будут добавлены сюда динамически -->
        </ul>
    </nav>

    <div id="main-content">
        <h1>Переменные и константы в Dart</h1>

        <section class="lesson-section">
            <h2 style="display: inline;">Зачем нужны переменные</h2>
            <p>На прошлом занятии мы практиковались с <code class="code">арифметическими операциями</code>. Но любая операция с числами не имеет смысла, если невозможно получить результат в виде значения.</p>
            <p>Для хранения любых данных, в том числе и результата арифметических операций, в программировании используют <code class="code">переменные</code>.</p>
            <div class="note">
                <p><strong>Переменная</strong></p>
                <p>Переменная - это область памяти, где можно хранить и изменять данные.</p>
                <p>У переменной всегда есть название (<code class="code">имя переменной</code>)</p>
            </div>
            <div class="note">
                <p><strong>Переменная как коробка</strong></p>
                <p>Можно представить переменную как <code class="code">коробку</code>, внутри которой находится значение.</p>
                <p>У этой коробки есть ярлык - <code class="code">имя переменной</code>. Обращаясь к коробке по её имени, вы получаете доступ к хранящемуся в ней значению.</p>
            </div>
            <img src="images/l2/variable_as_box.png" alt="Переменная как коробка" width="300">
            <p>Эта схема иллюстрирует, как переменная может хранить данные, подобно тому, как коробка может содержать какой-то предмет. На коробке написано <code class="code">Имя</code>. Снаружи коробки находится метка <code class="code">Данные</code>, указывающая на значение. Стрелка показывает, что это значение помещается внутрь коробки.</p>
            
            <p><em>Зачем нужно использовать коробку с именем, чтобы хранить значение, а не просто использовать значения напрямую?</em></p>
            
            <div class="code-block-header">
                <h4 class="code-block-title">Dart - Использование литералов</h4>
                <div class="code-block-controls">
                    <span class="code-block-control" onclick="toggleTheme('github')">
                        <img class="icon" src="images/light.png" alt="Светлая тема">
                    </span>
                    <span class="code-block-control" onclick="toggleTheme('atom-one-dark')">
                        <img class="icon" src="images/dark.png" alt="Темная тема">
                    </span>
                </div>
            </div>
            <pre><code class="language-dart">
void main() {
  print(42); // Целое число 42
  print(42 + 7); // Сложим два целых числа
  print("Привет, Dart"); // Напечатаем строку
}
            </code></pre>
            <p>Рассмотрим аналогию</p>
            
            <p><em>Письмо для человека, с которым мы недавно познакомились</em></p>
            
            <div class="note">
                <p><strong>Аналогия</strong></p>
                <p><em>Привет, Артем, было приятно встретиться с тобой сегодня на конференции разработчиков. С нетерпением жду встречи в пятницу. Хорошего дня!</em></p>
            </div>
            <p>Такое письмо прекрасно подходит для случая именно с <em>Артемом</em>. Но что, если вам нужно будет писать такие письма многим людям, с небольшими изменениями?</p>
            <blockquote>
                <p><em>Привет, <strong>Юля</strong>, было приятно встретиться с тобой сегодня <strong>на конференции разработчиков</strong>. С нетерпением жду встречи в <strong>пятницу</strong>. Хорошего дня!</em></p>
                <p><em>Привет, <strong>Андрей</strong>, было приятно встретиться с тобой сегодня <strong>на мероприятии по настольным играм</strong>. С нетерпением жду встречи в <strong>субботу</strong>. Хорошего дня!</em></p>
                <p><em>Привет, <strong>Настя</strong>, было приятно встретиться с тобой сегодня <strong>на курсах</strong>.<br>С нетерпением жду встречи в <strong>понедельник</strong>. Хорошего дня!</em></p>
            </blockquote>
            <p>Было бы гораздо эффективнее создать шаблон письма, оставив пробелы для изменяющихся данных.</p>
            <div class="note">
                <p><strong>Шаблон письма</strong></p>
                <p><em>Привет { <code class="code">имя</code> } , было приятно встретиться с тобой сегодня в { <code class="code">место встречи</code> }.<br>С нетерпением жду встречи в { <code class="code">дата</code> } . Хорошего дня!</em></p>
            </div>
            <p>Создание приложения похоже на этот процесс. Некоторые данные заменяются переменными, тогда как другие части приложения остаются неизменными.</p>
        </section>

        <section class="lesson-section">
            <h2 style="display: inline;">Определение переменной и её использование</h2>
            <div class="code-block-header">
                <h4 class="code-block-title">Dart - Объявление переменной</h4>
                <div class="code-block-controls">
                    <span class="code-block-control" onclick="toggleTheme('github')">
                        <img class="icon" src="images/light.png" alt="Светлая тема">
                    </span>
                    <span class="code-block-control" onclick="toggleTheme('atom-one-dark')">
                        <img class="icon" src="images/dark.png" alt="Темная тема">
                    </span>
                </div>
            </div>
            <pre><code class="language-dart">
void main() {
  String name = "Юля"; // Объявляем строковую переменную
  print(name); // Вызываем переменную
}
            </code></pre>
            <img src="images/l2/code_execution_result.png" alt="Результат выполнения кода" width="500">
            <div class="note">
                <p><strong>Объявление переменной</strong></p>
                <p>При определении переменной присваиваем ей <code>уникальное имя</code> для идентификации.</p>
                <p>Указываем <code>тип данных</code>, который она может хранить.</p> 
                <p>Задаем <code>начальное значение</code>, которое будет сохранено в переменной.</p>
            </div>
            <div class="note">
                <p><strong>Оператор присваивания</strong></p>
                <p>В объявлении переменной после имени переменной следует символ равно <code class="code">=</code></p>
                <p>Этот символ называется <code class="code">оператором присваивания</code>.</p>
                <p>Оператор присваивания сохраняет значение в переменную.</p>
            </div>

            <div class="code-block-header">
                <h4 class="code-block-title">Dart - Целочисленная переменная</h4>
                <div class="code-block-controls">
                    <span class="code-block-control" onclick="toggleTheme('github')">
                        <img class="icon" src="images/light.png" alt="Светлая тема">
                    </span>
                    <span class="code-block-control" onclick="toggleTheme('atom-one-dark')">
                        <img class="icon" src="images/dark.png" alt="Темная тема">
                    </span>
                </div>
            </div>
            <pre><code class="language-dart">
void main() {
  int count = 2; // Объявляем целочисленную переменную
  print(count); // Вызываем переменную
}
            </code></pre>
            
            <img src="images/l2/var-1.gif" alt="Объявление переменной" width="500">
            <img src="images/l2/boxes.png" alt="Переменная как коробка" width="300">
            <div class="note">
                <p><strong>Инициализация переменной</strong></p>
                <p>Фраза: <code class="code">переменная count инициализирована значением 2</code> означает, что <code class="code">2</code> это <code class="code">первое</code> значение, сохраненное в переменной при её создании.</p>
            </div>
            <p>В переменную значения присваиваются справа налево</p>
            <img src="images/l2/var-2.gif" alt="Присваивание значения" width="300">
        </section>

        <section class="lesson-section">
            <h2 style="display: inline;">Наименование переменных</h2>
            <p>Что самое сложное в программировании? Придумать название переменной 🤣</p>
            <div class="note">
                <p><strong>Правило camelCase</strong></p>
                <p>Имена переменных должны следовать правилу <code class="code">camelCase</code>.</p>
                <p>Первое слово пишется с маленькой буквы, а если в имени несколько слов, то каждое последующее слово начинается с заглавной буквы.</p>
            </div>
            <div class="code-block-header">
                <h4 class="code-block-title">Dart - Стиль именования camelCase</h4>
                <div class="code-block-controls">
                    <span class="code-block-control" onclick="toggleTheme('github')">
                        <img class="icon" src="images/light.png" alt="Светлая тема">
                    </span>
                    <span class="code-block-control" onclick="toggleTheme('atom-one-dark')">
                        <img class="icon" src="images/dark.png" alt="Темная тема">
                    </span>
                </div>
            </div>
            <pre><code class="language-dart">
void main() {
  int numberOfMessage = 7384;
  String cityName = "Бийск";
} 
            </code></pre>
            <div class="note">
                <p><strong>Регистр символов имеет значение!</strong></p>
                <p>Регистр символов (прописные и заглавные буквы) имеет значение! Например, <code class="code">language</code> не то же самое, что <code class="code">Language</code></p>
            </div>
            <div class="code-block-header">
                <h4 class="code-block-title">Dart - Чувствительность к регистру</h4>
                <div class="code-block-controls">
                    <span class="code-block-control" onclick="toggleTheme('github')">
                        <img class="icon" src="images/light.png" alt="Светлая тема">
                    </span>
                    <span class="code-block-control" onclick="toggleTheme('atom-one-dark')">
                        <img class="icon" src="images/dark.png" alt="Темная тема">
                    </span>
                </div>
            </div>
            <pre><code class="language-dart">
void main() {
  // Это три разных переменных!
  // Регистр имеет значение!

  String language = "Dart";
  String Language = "Dart";
  String LANGUAGE = "Dart";
}
            </code></pre>
            <img src="images/l2/different_variables_1.png" alt="Разные переменные 1" width="500">
            <img src="images/l2/bad_variable_names.png" alt="Плохие имена переменных" width="500">
            <img src="images/l2/good_variable_names.png" alt="Хорошие имена переменных" width="500">
        </section>

        <section class="lesson-section">
            <h2 style="display: inline;">Изменение переменной</h2>
            <p>Объявим <code class="code">мутабельную</code>(<code class="code">изменяемую</code>) переменную с именем <code class="code">dayOfWeek</code> и распечатаем её значение до и после изменения</p>
            <div class="note">
                <h3>Обновление значения переменной</h3>
                <p>Для изменения значения переменной не нужно объявлять её заново!<br>Просто присвойте ей новое значение с помощью оператора <code class="code">=</code></p>
            </div>
            <div class="code-block-header">
                <h4 class="code-block-title">Dart - Изменение значения переменной</h4>
                <div class="code-block-controls">
                    <span class="code-block-control" onclick="toggleTheme('github')">
                        <img class="icon" src="images/light.png" alt="Светлая тема">
                    </span>
                    <span class="code-block-control" onclick="toggleTheme('atom-one-dark')">
                        <img class="icon" src="images/dark.png" alt="Темная тема">
                    </span>
                </div>
            </div>
            <pre><code class="language-dart">
void main() {
    String dayOfWeek = "Понедельник";
    print(dayOfWeek); // "Понедельник"

    dayOfWeek = "Среда"; // Обновляем значение переменной
    print(dayOfWeek); // "Среда"
}
            </code></pre>
        </section>

        <section class="lesson-section">
            <h2 style="display: inline;">Переменные и оперативная память</h2>
            <div class="note">
                <p><strong>Данные в памяти</strong></p>
                <p>Для того чтобы программа могла воспользоваться данными, эти данные нужно где-то хранить.</p>
                <p>Хранятся они в специальных <code class="code">ячейках памяти</code> (<code class="code">оперативной памяти</code>)</p>
                <p>... не в красных стаканчиках конечно 😅</p>
                <p>Когда мы в программе пишем значение просто <code class="code">42</code> или <code class="code">Привет Dart</code>, то не понятно что это за данные, где они находятся, откуда взялись и как с ними работать потом.</p>
                <p>Это какие-то <code class="code">магические значения</code></p>
            </div>
            <img src="images/l2/magic_values.png" alt="Магические значения" width="600">
            <p>Переменные помогают контролировать данные, с помощью переменной мы можем сохранить данные в <code class="code">оперативной памяти</code> и потом ими воспользоваться</p>
            <img src="images/l2/variables_and_memory.png" alt="Переменные и память" width="600">
            <p>Чисто технически в самой переменной не находятся данные, в ней находится <code class="code">ссылка</code> на область памяти, где хранятся данные.</p>
            <div class="code-block-header">
                <h4 class="code-block-title">Dart - Переменные и память</h4>
                <div class="code-block-controls">
                    <span class="code-block-control" onclick="toggleTheme('github')">
                        <img class="icon" src="images/light.png" alt="Светлая тема">
                    </span>
                    <span class="code-block-control" onclick="toggleTheme('atom-one-dark')">
                        <img class="icon" src="images/dark.png" alt="Темная тема">
                    </span>
                </div>
            </div>
            <pre><code class="language-dart">
void main() {
    String dayOfWeek = "Понедельник";
    print(dayOfWeek); // "Понедельник"

    dayOfWeek = "Вторник"; // Обновляем значение переменной
    print(dayOfWeek); // "Вторник"
}
            </code></pre>
            <img src="images/l2/var-ram.png" alt="Схема изменения переменной" width="700">

            <div class="note">
                <p><strong>Ячейки памяти</strong></p>
                <p>Технически хранение переменных можно представить как <code class="code">ячейки памяти</code> (оперативной) в виде таблицы.</p>
                <p>Столбцы и строки этой таблицы пронумерованы, т.е. представляют из себя адреса, и вот по этому адресу в память можно записать какие-то данные.</p>
                <img src="images/l2/memory_cells.png" alt="Ячейки памяти" width="350">
            </div>
            <img src="images/l2/memory_work_diagram.png" alt="Схема работы с памятью">
        </section>

        <section class="lesson-section">
            <h2 style="display: inline;">Константы</h2>
            <div class="note">
                <p><strong>Константы</strong></p>
                <p>Это переменные значения которых нельзя изменить</p>
            </div>
            <p>В Dart есть два вида констант</p>
            <ol>
                <li><code>final</code> - является константной времени выполнения (<code>run-time constant</code>)</li>
                <li><code>const</code> - является константной времени компиляции (<code>compile-time constant</code>)</li>
            </ol>
            <div class="code-block-header">
                <h4 class="code-block-title">Dart - Константа final</h4>
                <div class="code-block-controls">
                    <span class="code-block-control" onclick="toggleTheme('github')">
                        <img class="icon" src="images/light.png" alt="Светлая тема">
                    </span>
                    <span class="code-block-control" onclick="toggleTheme('atom-one-dark')">
                        <img class="icon" src="images/dark.png" alt="Темная тема">
                    </span>
                </div>
            </div>
            <pre><code class="language-dart">
main() {
    final double pi = 3.14; // Объявляем final константу
    pi = 4; // Ошибка! 
    print(pi);
}
            </code></pre>
            <div class="code-block-header">
                <h4 class="code-block-title">Dart - Константа const</h4>
                <div class="code-block-controls">
                    <span class="code-block-control" onclick="toggleTheme('github')">
                        <img class="icon" src="images/light.png" alt="Светлая тема">
                    </span>
                    <span class="code-block-control" onclick="toggleTheme('atom-one-dark')">
                        <img class="icon" src="images/dark.png" alt="Темная тема">
                    </span>
                </div>
            </div>
            <pre><code class="language-dart">
main() {
    const name = "Юля"; // Объявляем const константу
    name = 'Маша'; // ! Ошибка - Constant variables can't be assigned a value
}
            </code></pre>
            <p>Отличие в том, что <code>const</code> всегда должна иметь определенное значение!</p>
            <div class="code-block-header">
                <h4 class="code-block-title">Dart - Особенности const</h4>
                <div class="code-block-controls">
                    <span class="code-block-control" onclick="toggleTheme('github')">
                        <img class="icon" src="images/light.png" alt="Светлая тема">
                    </span>
                    <span class="code-block-control" onclick="toggleTheme('atom-one-dark')">
                        <img class="icon" src="images/dark.png" alt="Темная тема">
                    </span>
                </div>
            </div>
            <pre><code class="language-dart">
main() {
    // Нельзя оставить const без инициализации!
    const value; // Ошибка!
    value = 42 // Ошибка!

    // Нельзя в const присвоить вычисляемое выражение!
    const today = DateTime.now(); // Ошибка!
    print('Today: $today'); // Ошибка!
}
            </code></pre>
            <p>Использование <code>const</code> полезно для производительности в некоторых местах, особенно при написании кода на <code>Flutter</code>.  А пока что будем пользоваться константой <code>final</code></p>
        </section>

        <section class="lesson-section">
            <h2 style="display: inline;">Шаблонные строки</h2>
            <p>Рассмотрим пример, когда вывод простого числа не очень информативен. Было бы полезнее вывести сообщение, поясняющее, что означает число</p>
            <pre><code>У вас 2 непрочитанных сообщения</code></pre>
            <div class="code-block-header">
                <h4 class="code-block-title">Dart - Вывод без интерполяции</h4>
                <div class="code-block-controls">
                    <span class="code-block-control" onclick="toggleTheme('github')">
                        <img class="icon" src="images/light.png" alt="Светлая тема">
                    </span>
                    <span class="code-block-control" onclick="toggleTheme('atom-one-dark')">
                        <img class="icon" src="images/dark.png" alt="Темная тема">
                    </span>
                </div>
            </div>
            <pre><code class="language-dart">
main() {
    int count = 2;
    print("У вас count непрочитанных сообщений");

    // У вас count непрочитанных сообщений
}
            </code></pre>
            <p>Можно взять и объединить несколько строчек друг с другом и с переменной. Но … код получается плохо читаемый и многословный 😥</p>
            <div class="code-block-header">
                <h4 class="code-block-title">Dart - Конкатенация строк</h4>
                <div class="code-block-controls">
                    <span class="code-block-control" onclick="toggleTheme('github')">
                        <img class="icon" src="images/light.png" alt="Светлая тема">
                    </span>
                    <span class="code-block-control" onclick="toggleTheme('atom-one-dark')">
                        <img class="icon" src="images/dark.png" alt="Темная тема">
                    </span>
                </div>
            </div>
            <pre><code class="language-dart">
main() {
    int count = 2;
    
    // Такой подход называется КОНКАТЕНАЦИЯ строк
    print("У вас " + count.toString() + " непрочитанных сообщений");
}
            </code></pre>
            <div class="note">
                <p><strong>Шаблонные строки</strong></p>
                <p>Чтобы это безобразие исправить нужно использовать <strong>шаблонные строки</strong>.</p>
                <p>Добавьте знак доллара <code>$</code> перед именем переменной <code>count</code>.</p>
                <p>В этом случае выражение-шаблон <code>$count</code> вычисляется как число 2.</p>
                <img src="images/l2/string_interpolation.png" alt="Интерполяция строк" width="400">
            </div>
            <div class="code-block-header">
                <h4 class="code-block-title">Dart - Интерполяция строк</h4>
                <div class="code-block-controls">
                    <span class="code-block-control" onclick="toggleTheme('github')">
                        <img class="icon" src="images/light.png" alt="Светлая тема">
                    </span>
                    <span class="code-block-control" onclick="toggleTheme('atom-one-dark')">
                        <img class="icon" src="images/dark.png" alt="Темная тема">
                    </span>
                </div>
            </div>
            <pre><code class="language-dart">
main() {
    int count = 2;
    
    // Такой подход называется ИНТЕРПОЛЯЦИЯ строк
    print("У вас $count непрочитанных сообщений");
    
    // У вас 2 непрочитанных сообщения
}
            </code></pre>
            <p>Если нужно выполнить более сложное выражение внутри строки то используем <code>{ }</code></p>
            <div class="code-block-header">
                <h4 class="code-block-title">Dart - Сложная интерполяция</h4>
                <div class="code-block-controls">
                    <span class="code-block-control" onclick="toggleTheme('github')">
                        <img class="icon" src="images/light.png" alt="Светлая тема">
                    </span>
                    <span class="code-block-control" onclick="toggleTheme('atom-one-dark')">
                        <img class="icon" src="images/dark.png" alt="Темная тема">
                    </span>
                </div>
            </div>
            <pre><code class="language-dart">
main() {
    int unreadCount = 5;
    int readCount = 100;
    
    print("У вас ${unreadCount + readCount} непрочитанных сообщений");
    
    // У вас 105 сообщений 
}
            </code></pre>
        </section>

        <button id="scrollToTop" title="Наверх"></button>
    </div>

    <script src="../../js/main.js"></script>
    <script src="../../js/slideshow.js"></script>

</body>
</html> 